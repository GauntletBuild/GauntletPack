<html lang="us">

<head>
    <style>
        #table {
            margin-top: 20px;
        }

        #table td, #table th {
            border: 1px solid black;
            padding: 5px;
        }
    </style>
</head>

<body>
<label for="number">Enter Block Id:</label>
<input type="number" id="number">
<button id="submit">Submit</button>
<div id="output"></div>

<table id="table">
    <thead>
    <tr>
        <th>Index</th>
        <th>Blockstate</th>
    </tr>
    </thead>
    <tbody>
    </tbody>
</table>


</div>
</body>
<script>
    const INSTRUMENTS = [
        "HARP",
        "BASEDRUM",
        "SNARE",
        "HAT",
        "BASS",
        "FLUTE",
        "BELL",
        "GUITAR",
        "CHIME",
        "XYLOPHONE",
        "IRON_XYLOPHONE",
        "COW_BELL",
        "DIDGERIDOO",
        "BIT",
        "BANJO",
        "PLING",
        "ZOMBIE",
        "SKELETON",
        "CREEPER",
        "DRAGON",
        "WITHER_SKELETON",
        "PIGLIN",
        "CUSTOM_HEAD",
    ]

    function getState(number) {
        let id = 0;
        for (let i = 0; i < INSTRUMENTS.length; i++) {
            for (let j = 0; j < 25; j++) {
                if (`${id}` === String(number)) {
                    return `instrument=${INSTRUMENTS[i].toLowerCase()},note=${j},powered=false`;
                }
                id++;
                if (`${id}` === String(number)) {
                    return `instrument=${INSTRUMENTS[i].toLowerCase()},note=${j},powered=true`;
                }
                id++;
            }
        }
    }

    document.getElementById("submit").addEventListener("click", ev => {
        const numberField = document.getElementById("number");
        const number = numberField.value;
        const state = getState(number);

        const table = document.getElementById("table").getElementsByTagName('tbody')[0];

        let row = table.insertRow();
        let cell1 = row.insertCell(0);
        let cell2 = row.insertCell(1);
        let cell3 = row.insertCell(2);

        cell1.innerHTML = number;
        cell2.innerHTML = `<button onclick="copyToClipboard('${state}')">${state}</button>`;
        cell3.innerHTML = '<button onclick="this.parentElement.parentElement.remove()">-</button>';  /* Add a button that, when clicked, removes the row it's in */

        numberField.value = Number(number) + 1;  /* Increment the number in the input field */
    });

    function copyToClipboard(text) {
    var textarea = document.createElement("textarea");
    textarea.textContent = text;
    textarea.style.position = "fixed";  // Prevent scrolling to bottom of page in MS Edge.
    document.body.appendChild(textarea);
    textarea.select();
    try {
        return document.execCommand("copy");  // Security exception may be thrown by some browsers.
    } catch (ex) {
        console.warn("Copy to clipboard failed.", ex);
        return false;
    } finally {
        document.body.removeChild(textarea);
    }
}
</script>
</body>
</html>